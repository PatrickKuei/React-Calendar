(this.webpackJsonpamazingtalk=this.webpackJsonpamazingtalk||[]).push([[0],{15:function(e){e.exports=JSON.parse('[{"id":0,"start":"2020-04-26T01:30:00Z","end":"2020-04-26T07:00:00Z"},{"id":1,"start":"2020-04-27T01:30:00Z","end":"2020-04-27T14:00:00Z"},{"id":2,"start":"2020-04-28T01:30:00Z","end":"2020-04-28T14:00:00Z"},{"id":3,"start":"2020-04-29T01:30:00Z","end":"2020-04-29T14:00:00Z"},{"id":4,"start":"2020-04-30T01:30:00Z","end":"2020-04-30T14:00:00Z"},{"id":5,"start":"2020-05-01T01:30:00Z","end":"2020-05-01T06:30:00Z"},{"id":6,"start":"2020-05-01T07:30:00Z","end":"2020-05-01T14:00:00Z"},{"id":7,"start":"2020-05-02T01:30:00Z","end":"2020-05-02T10:00:00Z"}]')},16:function(e){e.exports=JSON.parse('[{"id":0,"start":"2020-05-01T06:30:00Z","end":"2020-05-01T07:30:00Z"}]')},23:function(e,t,a){e.exports=a(41)},28:function(e,t,a){},29:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),o=a.n(i),d=(a(28),a(5)),c=(a(29),function(e){var t=e.dayData,a=t.thisSunday.year+"/"+(t.thisSunday.month+1)+"/"+t.thisSunday.date+"-"+t.nextSunday.date,n={year:t.today.year,month:t.today.month,date:t.today.date+7,day:t.today.day},i={year:t.today.year,month:t.today.month,date:t.today.date-7,day:t.today.day};return r.a.createElement("div",{className:"dateDiv"},r.a.createElement("div",{className:"btnDiv"},r.a.createElement("button",{disabled:new Date>new Date(t.thisSunday.year,t.thisSunday.month,t.thisSunday.date),className:"btn",onClick:function(){return t.setToday(i)}},"\u2039"),r.a.createElement("button",{className:"btn",onClick:function(){return t.setToday(n)}},"\u203a")),r.a.createElement("div",{className:"flex"},r.a.createElement("h2",null,a)))}),s=function(e){var t=e.dayData;return r.a.createElement("div",{className:"headerDiv"},r.a.createElement("div",{className:"titleDiv"},r.a.createElement("h1",null,"Available Times")),r.a.createElement("div",{className:"inforDiv"},r.a.createElement(c,{dayData:t}),r.a.createElement("div",{className:"gmtDiv"},r.a.createElement("p",null,"* All the timings listed are in your timezone: HongKong (GMT+08:00)"))))},l=function(e,t){var a=e.map((function(e){return e.id})),n=e.map((function(e){return new Date(e.start)})),r=e.map((function(e){return new Date(e.end)})),i=t.map((function(e){return new Date(e.start)})),o={time:n.map((function(e){return e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}))},d={time:r.map((function(e){return e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})}))},c={avaDateArray_id:a,avaDateArray_Start:n,avaDateArray_End:r,bookedArray_Start:i,stringAvaDate_Start:o,stringAvaDate_End:d};return Object.assign({},c)},u=function(e){var t=e.AvaDay,a=e.Booked,n=e.past,i=e.date,o=l(t,a),d=Object.assign({},o),c=!1,s=!1,u=[],m=function(e){u.push({id:d.avaDateArray_id[e],start:d.stringAvaDate_Start.time[e],end:d.stringAvaDate_End.time[e]})};if(!n)for(var y in d.avaDateArray_Start)if(d.avaDateArray_Start[y].setHours(0,0,0,0)===i.getTime())for(var v in m(y),d.bookedArray_Start)t[y].end!==a[v].start&&(t[y].start===a[v].end?s=!0:c=!0);return u.sort((function(e,t){return e.start.localeCompare(t.start)})),r.a.createElement("div",{className:"hourlyDiv"},u.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("h4",{style:{color:c?"gray":"green"}},e.start),r.a.createElement("h4",{style:{color:s?"gray":"green"}},e.end))})))},m=function(e){var t=e.date,a=e.chineseDay,n=e.AvaDay,i=e.Booked,o=t.getDate()<10?"0"+t.getDate():t.getDate(),d=t<(new Date).setHours(0,0,0,0);return r.a.createElement("div",{className:"eachDayDiv"},r.a.createElement("div",{className:d?"toGray":"acvatedDiv"}),r.a.createElement("div",{className:d?"textToGray":"weekNumberDiv"},r.a.createElement("h2",null,a),r.a.createElement("h2",null,o),r.a.createElement(u,{AvaDay:n,Booked:i,past:d,date:t})))},y=a(15),v=a(16),h=function(e){var t=Object(n.useState)({}),a=Object(d.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)({}),c=Object(d.a)(o,2),s=c[0],l=c[1],u=Object(n.useState)(!1),m=Object(d.a)(u,2),y=m[0],v=m[1],h=Object(n.useState)(!1),D=Object(d.a)(h,2),f=D[0],g=D[1];Object(n.useEffect)((function(){E(),b()}),[]);var E=function(){fetch(e).then((function(e){return e.json()})).then((function(e){i(e),v(!0)}))},b=function(){fetch(e).then((function(e){return e.json()})).then((function(e){l(e),g(!0)}))};return{availableTime:r,bookedTime:s,isALoaded:y,isBLoaded:f}},D=function(e){var t=e.dayData,a=h("url"),n=Object.assign({},a),i=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],o=[],d=function(e,a){for(var n=0;n<7;n++){var d=new Date(t.thisSunday.year,t.thisSunday.month,t.thisSunday.date+n);o.push(r.a.createElement(m,{date:d,chineseDay:i[n],AvaDay:e,Booked:a,dayData:t,key:n}))}};return n.isALoaded&&n.isBLoaded?(d(n.availableTime,n.bookedTime),r.a.createElement("div",{className:"contentDiv"},o)):(d(y,v),r.a.createElement("div",{className:"contentDiv"},o))},f=a(9);var g=function(){var e=Object(n.useState)({year:(new Date).getFullYear(),month:(new Date).getMonth(),date:(new Date).getDate(),day:(new Date).getDay()}),t=Object(d.a)(e,2),a=t[0],i=t[1],o=a.date-a.day,c={year:new Date(a.year,a.month,o).getFullYear(),month:new Date(a.year,a.month,o).getMonth(),date:new Date(a.year,a.month,o).getDate()},l=7-a.day+a.date,u={today:a,setToday:i,thisSunday:c,nextSunday:{year:new Date(a.year,a.month,l).getFullYear(),month:new Date(a.year,a.month,l).getMonth()+1,date:new Date(a.year,a.month,l).getDate()}},m=Object(f.b)();return m.t,m.i18n,r.a.createElement("div",{className:"App"},r.a.createElement(s,{dayData:u}),r.a.createElement(D,{dayData:u}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=a(12),b=a(22),T=a(21);E.a.use(b.a).use(T.a).use(f.a).init({fallbackLng:"en",debug:!0,whitelist:["chi","en"],interpolation:{escapeValue:!1}});E.a;o.a.render(r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.90d2fd27.chunk.js.map